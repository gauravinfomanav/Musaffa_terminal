<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TradingView Market Overview</title>
    <style>
        html, body {
            background: transparent;
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            overflow: hidden;
        }
        
        .tradingview-widget-container {
            width: 100%;
            height: 100%;
            background: transparent;
            margin: 0;
            padding: 0;
        }
        
        #trading-view-market-overview {
            width: 100%;
            height: 100%;
            background: transparent;
        }
        
        /* Hide the TradingView copyright footer */
        .tradingview-widget-copyright {
            display: none !important;
        }
        
        /* Hide scrollbars completely */
        ::-webkit-scrollbar {
            display: none;
            width: 0;
            height: 0;
        }
        
        /* Hide scrollbars for Firefox */
        * {
            scrollbar-width: none;
        }
        
        /* Hide scrollbars for IE/Edge */
        * {
            -ms-overflow-style: none;
        }
        
        /* Prevent any internal scrolling in the widget */
        .tradingview-widget-container,
        #trading-view-market-overview,
        iframe,
        .tradingview-widget,
        [class*="tradingview"] {
            overflow: hidden !important;
            scroll-behavior: auto !important;
            overscroll-behavior: none !important;
        }
        
        /* Ensure widget container has no scroll */
        body, html {
            overflow: hidden !important;
            scroll-behavior: auto !important;
        }
        
        /* Force transparency on all TradingView elements */
        .tradingview-widget-container__widget,
        .tradingview-widget-container__widget *,
        [class*="tradingview"],
        [class*="tv-"],
        iframe {
            background: transparent !important;
            background-color: transparent !important;
        }
        
        /* Override any internal white backgrounds */
        div[style*="background"],
        div[style*="background-color"] {
            background: transparent !important;
            background-color: transparent !important;
        }
        
        /* Force iframe transparency */
        iframe {
            background: transparent !important;
            background-color: transparent !important;
            border: none !important;
        }
        
        /* Override TradingView iframe styling */
        iframe[src*="tradingview"] {
            background: transparent !important;
            background-color: transparent !important;
            border: none !important;
            box-shadow: none !important;
        }
        
        /* Hide any white containers */
        div[style*="background-color: white"],
        div[style*="background: white"],
        div[style*="background-color: #fff"],
        div[style*="background: #fff"] {
            background: transparent !important;
            background-color: transparent !important;
        }
    </style>
</head>
<body>
    <!-- TradingView Widget BEGIN -->
    <div class="tradingview-widget-container">
      <div class="tradingview-widget-container__widget" id="tradingview-widget"></div>
      <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/markets/" rel="noopener nofollow" target="_blank"><span class="blue-text">World markets</span></a><span class="trademark"> by TradingView</span></div>
      <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-market-overview.js" async></script>
      <script type="text/javascript">
      
      // Global variables for widget configuration
      let currentTheme = "dark";
      let currentHeight = "400px";
      let widgetInstance = null;
      
      // Function to initialize or reinitialize the widget
      function initMarketOverview(theme, height) {
          console.log('initMarketOverview called with theme:', theme, 'height:', height);
          
          // Update global variables
          currentTheme = theme;
          currentHeight = height;
          
          // Destroy existing widget if it exists
          if (widgetInstance) {
              try {
                  // Clear the container
                  const container = document.querySelector('.tradingview-widget-container__widget');
                  if (container) {
                      container.innerHTML = '';
                  }
              } catch (e) {
                  console.log('Error clearing existing widget:', e);
              }
          }
          
          // Create new widget with updated configuration
          widgetInstance = new TradingView.widget({
          "container_id": "tradingview-widget",
          "colorTheme": theme,
          "dateRange": "12M",
          "locale": "en",
          "largeChartUrl": "",
          "isTransparent": true,
          "showFloatingTooltip": false,
          "plotLineColorGrowing": theme === "dark" ? "rgba(41, 98, 255, 1)" : "rgba(41, 98, 255, 1)",
          "plotLineColorFalling": theme === "dark" ? "rgba(41, 98, 255, 1)" : "rgba(41, 98, 255, 1)",
          "gridLineColor": theme === "dark" ? "rgba(240, 243, 250, 0)" : "rgba(240, 243, 250, 0)",
          "scaleFontColor": theme === "dark" ? "#DBDBDB" : "#333333",
          "belowLineFillColorGrowing": theme === "dark" ? "rgba(41, 98, 255, 0.12)" : "rgba(41, 98, 255, 0.12)",
          "belowLineFillColorFalling": theme === "dark" ? "rgba(41, 98, 255, 0.12)" : "rgba(41, 98, 255, 0.12)",
          "belowLineFillColorGrowingBottom": theme === "dark" ? "rgba(41, 98, 255, 0)" : "rgba(41, 98, 255, 0)",
          "belowLineFillColorFallingBottom": theme === "dark" ? "rgba(41, 98, 255, 0)" : "rgba(41, 98, 255, 0)",
          "symbolActiveColor": theme === "dark" ? "rgba(41, 98, 255, 0.12)" : "rgba(41, 98, 255, 0.12)",
      "tabs": [
        {
          "title": "Indices",
          "symbols": [
            {
              "s": "FOREXCOM:SPXUSD",
              "d": "S&P 500 Index"
            },
            {
              "s": "FOREXCOM:NSXUSD",
              "d": "US 100 Cash CFD"
            },
            {
              "s": "FOREXCOM:DJI",
              "d": "Dow Jones Industrial Average Index"
            },
            {
              "s": "INDEX:NKY",
              "d": "Japan 225"
            },
            {
              "s": "INDEX:DEU40",
              "d": "DAX Index"
            },
            {
              "s": "FOREXCOM:UKXGBP",
              "d": "FTSE 100 Index"
            }
          ],
          "originalTitle": "Indices"
        },
        {
          "title": "Futures",
          "symbols": [
            {
              "s": "BMFBOVESPA:ISP1!",
              "d": "S&P 500"
            },
            {
              "s": "BMFBOVESPA:EUR1!",
              "d": "Euro"
            },
            {
              "s": "CMCMARKETS:GOLD",
              "d": "Gold"
            },
            {
              "s": "PYTH:WTI3!",
              "d": "WTI Crude Oil"
            },
            {
              "s": "BMFBOVESPA:CCM1!",
              "d": "Corn"
            }
          ],
          "originalTitle": "Futures"
        },
        {
          "title": "Bonds",
          "symbols": [
            {
              "s": "EUREX:FGBL1!",
              "d": "Euro Bund"
            },
            {
              "s": "EUREX:FBTP1!",
              "d": "Euro BTP"
            },
            {
              "s": "EUREX:FGBM1!",
              "d": "Euro BOBL"
            }
          ],
          "originalTitle": "Bonds"
        },
        {
          "title": "Forex",
          "symbols": [
            {
              "s": "FX:EURUSD",
              "d": "EUR to USD"
            },
            {
              "s": "FX:GBPUSD",
              "d": "GBP to USD"
            },
            {
              "s": "FX:USDJPY",
              "d": "USD to JPY"
            },
            {
              "s": "FX:USDCHF",
              "d": "USD to CHF"
            },
            {
              "s": "FX:AUDUSD",
              "d": "AUD to USD"
            },
            {
              "s": "FX:USDCAD",
              "d": "USD to CAD"
            }
          ],
          "originalTitle": "Forex"
        }
      ],
      "support_host": "https://www.tradingview.com",
      "backgroundColor": "transparent",
      "width": "100%",
      "height": height,
      "showSymbolLogo": true,
      "showChart": true
    });
      }
      
      // Function to force transparency on all elements
      function forceTransparency() {
          console.log('Forcing transparency on all elements');
          
          // Wait for elements to load
          setTimeout(() => {
              // Force transparency on all possible elements
              const elements = document.querySelectorAll('*');
              elements.forEach(el => {
                  if (el.style) {
                      el.style.backgroundColor = 'transparent';
                      el.style.background = 'transparent';
                      el.style.border = 'none';
                      el.style.boxShadow = 'none';
                  }
              });
              
              // Specifically target TradingView elements and iframes
              const tradingViewElements = document.querySelectorAll('[class*="tradingview"], [class*="tv-"], iframe, div');
              tradingViewElements.forEach(el => {
                  if (el.style) {
                      el.style.backgroundColor = 'transparent';
                      el.style.background = 'transparent';
                      el.style.border = 'none';
                      el.style.boxShadow = 'none';
                  }
              });
              
              // Force iframe transparency
              const iframes = document.querySelectorAll('iframe');
              iframes.forEach(iframe => {
                  iframe.style.backgroundColor = 'transparent';
                  iframe.style.background = 'transparent';
                  iframe.style.border = 'none';
                  iframe.style.boxShadow = 'none';
              });
              
              // Remove any white backgrounds
              const whiteElements = document.querySelectorAll('div, iframe, body, html');
              whiteElements.forEach(el => {
                  const computedStyle = window.getComputedStyle(el);
                  if (computedStyle.backgroundColor === 'rgb(255, 255, 255)' || 
                      computedStyle.backgroundColor === 'white' ||
                      computedStyle.background === 'white') {
                      el.style.backgroundColor = 'transparent';
                      el.style.background = 'transparent';
                  }
              });
          }, 1000);
          
          // Run again after more time to catch late-loading elements
          setTimeout(() => {
              forceTransparency();
          }, 3000);
      }
      
      // Initialize widget on page load with default settings
      document.addEventListener('DOMContentLoaded', function() {
          console.log('DOM loaded, initializing widget with default settings');
          initMarketOverview("dark", "400px");
          forceTransparency();
      });
      
      // Also initialize if DOM is already loaded
      if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', function() {
              initMarketOverview("dark", "400px");
              forceTransparency();
          });
      } else {
          initMarketOverview("dark", "400px");
          forceTransparency();
      }
      
      </script>
    </div>
    <!-- TradingView Widget END -->
</body>
</html>